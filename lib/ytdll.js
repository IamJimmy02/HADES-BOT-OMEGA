import _0x22a700 from'ytdl-core';import _0x29e73f from'readline';import _0x220261 from'fluent-ffmpeg';import _0xd2fc3d from'fs';import{randomBytes}from'crypto';const ytIdRegex=/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/;class YT{constructor(){}static ['isYTUrl']=_0x45deed=>{return ytIdRegex['test'](_0x45deed);};static ['getVideoID']=_0x5d910f=>{if(!this['isYTUrl'](_0x5d910f))throw new Error('is\x20not\x20YouTube\x20URL');return ytIdRegex['exec'](_0x5d910f)[0x1];};static ['mp3']=async _0x777ad5=>{try{if(!_0x777ad5)throw new Error('Video\x20ID\x20or\x20YouTube\x20Url\x20is\x20required');_0x777ad5=this['isYTUrl'](_0x777ad5)?'https://www.youtube.com/watch?v='+this['getVideoID'](_0x777ad5):_0x777ad5;const {videoDetails:_0x3ba8a8}=await _0x22a700['getInfo'](_0x777ad5,{'lang':'id'});let _0x5eadd6=_0x22a700(_0x777ad5,{'requestOptions':{'headers':{'cookie':'ISITOR_INFO1_LIVE=C0N8P8YKBPA;\x20PREF=tz=America.Bogota&f5=20000;\x20VISITOR_PRIVACY_METADATA=CgJQRRICGgA%3D;\x20YSC=F124HPwH5Tk;\x20HSID=ANMLlrOaE0U-Y9XCx;\x20SSID=A7jofnRgyop0pJcA8;\x20APISID=n6SY-W-U79WMcMi5/ANLbUtthWezCHSl58;\x20SAPISID=7I0Je63HDw5qNtsd/A6kfwXpaWpL9oWNCS;\x20__Secure-1PAPISID=7I0Je63HDw5qNtsd/A6kfwXpaWpL9oWNCS;\x20__Secure-3PAPISID=7I0Je63HDw5qNtsd/A6kfwXpaWpL9oWNCS;\x20YTSESSION-1b=ANPz9Kj3kneHXWVd/cloLDglSZTXhG+rbQ+5A7pXe4ThWYQ8rHRQr/mpDnEVOIc4PEpOo34pArbBqPItpFUmcRF7rBrbvY8o3qIyjm7pPyQcuuM=;\x20GPS=1;\x20SID=aQizKdEFw5-p5KcnHIHgPWALDWZSyYJmFsyl7wWOi7fu_X8gTdvx6Oug-zMeHzNA-0hvLw.;\x20__Secure-1PSID=aQizKdEFw5-p5KcnHIHgPWALDWZSyYJmFsyl7wWOi7fu_X8gzfBOB25007gw93sW0fZZBw.;\x20__Secure-1PSIDTS=sidts-CjIBSAxbGSjJ0ofY2vRCVz8xqU2RHXjyE-VqNeez6nkw8jvOZ5xtUFTPzutu1nM3OvSrJxAA;\x20__Secure-3PSIDTS=sidts-CjIBSAxbGSjJ0ofY2vRCVz8xqU2RHXjyE-VqNeez6nkw8jvOZ5xtUFTPzutu1nM3OvSrJxAA;\x20__Secure-3PSID=aQizKdEFw5-p5KcnHIHgPWALDWZSyYJmFsyl7wWOi7fu_X8g6hK1AfHBNbTFevBaBQPuvA.;\x20LOGIN_INFO=AFmmF2swRQIhAIuauIKMJskoIcXPzomtvy4859ECXJjXKwIL4Fwqi8M-AiBi3HsuFHlV7lQ1cmm3p0MA9MZSsdNDL3RLqyb_aLrKMw:QUQ3MjNmemZrTWlwS2dIcm81YnNzTFRwVVFlLUF6bGh1TzV0ZWpMSFRRYm9XdHdMYnFVUV9kcWNVTVF2QXpzSWROYzE4YkM1RzU2ZjdjUk1BWTFRTm5FS1lFVHpkVXplUzF1ZGhmMTJvZW9Ca2x1Y24zTDl3bG1tSEFILWlWX2ZNRDBCVm9RSm9EZnJPMkFyMUJqaE9uR2xoM3hyVXJWbWtn;\x20CONSISTENCY=AKreu9spRAFkKxEWfUje5J-netwXc64KTkz8ZxGkb2fS0jSkvw7HS3ZlNxyUNMoWb1_0Kzj4kSS6Wb0tulfITpFGHwYqDQyEvRz4lyfhoJV4U9Pa1V7XYEzG5c8QhUyn-KE21gCuwrCyYoLt295cpHM;\x20SIDCC=APoG2W_12yoyWkHPHg7DjiiKJB01vkwulDW9v2gIuS0mUCIpDl7SGkQ8ywiYcwBXal5jnLxZ01s;\x20__Secure-1PSIDCC=APoG2W9XogiNUjt9CjAlbVSb0YTrBJlo_rvOXGqodWmCwyDW_3SPyDLi9b1Co99YVhvhXvlWWPY;\x20__Secure-3PSIDCC=APoG2W8Koq32WwziWG7m1gPuRhj8dxVpdIFrjbUM6rA2vH7wUY-cE16wy6XKz8QfLOuyKshzVjJa'}},'filter':'audioonly','quality':0x8c}),_0x568a99='./tmp/'+randomBytes(0x3)['toString']('hex')+'.mp3',_0x1553a4;_0x5eadd6['once']('response',()=>{_0x1553a4=Date['now']();}),_0x5eadd6['on']('progress',(_0x4de0d9,_0x44e7bc,_0x4fd7ca)=>{const _0x5816ab=_0x44e7bc/_0x4fd7ca,_0x2ef28a=(Date['now']()-_0x1553a4)/0x3e8/0x3c,_0xc4b4d6=_0x2ef28a/_0x5816ab-_0x2ef28a;_0x29e73f['cursorTo'](process['stdout'],0x0),process['stdout']['write']((_0x5816ab*0x64)['toFixed'](0x2)+'%\x20downloaded\x20'),process['stdout']['write']('('+(_0x44e7bc/0x400/0x400)['toFixed'](0x2)+'MB\x20of\x20'+(_0x4fd7ca/0x400/0x400)['toFixed'](0x2)+'MB)\x0a'),process['stdout']['write']('running\x20for:\x20'+_0x2ef28a['toFixed'](0x2)+'minutes'),process['stdout']['write'](',\x20estimated\x20time\x20left:\x20'+_0xc4b4d6['toFixed'](0x2)+'minutes\x20'),_0x29e73f['moveCursor'](process['stdout'],0x0,-0x1);}),_0x5eadd6['on']('end',()=>process['stdout']['write']('\x0a\x0a')),_0x5eadd6['on']('error',_0x325379=>console['log'](_0x325379));const _0x4509f3=await new Promise(_0x35148=>{_0x220261(_0x5eadd6)['audioFrequency'](0xac44)['audioChannels'](0x2)['audioBitrate'](0x80)['audioCodec']('libmp3lame')['audioQuality'](0x5)['toFormat']('mp3')['save'](_0x568a99)['on']('end',()=>{_0x35148(_0x568a99);});});return{'meta':{'channelUrl':_0x3ba8a8['author']['channel_url'],'views':_0x3ba8a8['viewCount'],'category':_0x3ba8a8['category'],'id':_0x3ba8a8['videoId'],'url':_0x3ba8a8['video_url'],'publicDate':_0x3ba8a8['publishDate'],'uploadDate':_0x3ba8a8['uploadDate'],'keywords':_0x3ba8a8['keywords'],'title':_0x3ba8a8['title'],'channel':_0x3ba8a8['author']['name'],'seconds':_0x3ba8a8['lengthSeconds'],'image':_0x3ba8a8['thumbnails']['slice'](-0x1)[0x0]['url']},'path':_0x4509f3,'size':_0xd2fc3d['statSync'](_0x568a99)['size']};}catch(_0x3f6b96){throw _0x3f6b96;}};static ['mp4']=async _0x450fe4=>{try{if(!_0x450fe4)throw new Error('Video\x20ID\x20or\x20YouTube\x20Url\x20is\x20required');_0x450fe4=this['isYTUrl'](_0x450fe4)?'https://www.youtube.com/watch?v='+this['getVideoID'](_0x450fe4):_0x450fe4;const {videoDetails:_0x586e1a}=await _0x22a700['getInfo'](_0x450fe4,{'lang':'id'});console['log'](_0x586e1a);let _0xd1a1e6=_0x22a700(_0x450fe4,{'requestOptions':{'headers':{'cookie':'ISITOR_INFO1_LIVE=C0N8P8YKBPA;\x20PREF=tz=America.Bogota&f5=20000;\x20VISITOR_PRIVACY_METADATA=CgJQRRICGgA%3D;\x20YSC=F124HPwH5Tk;\x20HSID=ANMLlrOaE0U-Y9XCx;\x20SSID=A7jofnRgyop0pJcA8;\x20APISID=n6SY-W-U79WMcMi5/ANLbUtthWezCHSl58;\x20SAPISID=7I0Je63HDw5qNtsd/A6kfwXpaWpL9oWNCS;\x20__Secure-1PAPISID=7I0Je63HDw5qNtsd/A6kfwXpaWpL9oWNCS;\x20__Secure-3PAPISID=7I0Je63HDw5qNtsd/A6kfwXpaWpL9oWNCS;\x20YTSESSION-1b=ANPz9Kj3kneHXWVd/cloLDglSZTXhG+rbQ+5A7pXe4ThWYQ8rHRQr/mpDnEVOIc4PEpOo34pArbBqPItpFUmcRF7rBrbvY8o3qIyjm7pPyQcuuM=;\x20GPS=1;\x20SID=aQizKdEFw5-p5KcnHIHgPWALDWZSyYJmFsyl7wWOi7fu_X8gTdvx6Oug-zMeHzNA-0hvLw.;\x20__Secure-1PSID=aQizKdEFw5-p5KcnHIHgPWALDWZSyYJmFsyl7wWOi7fu_X8gzfBOB25007gw93sW0fZZBw.;\x20__Secure-1PSIDTS=sidts-CjIBSAxbGSjJ0ofY2vRCVz8xqU2RHXjyE-VqNeez6nkw8jvOZ5xtUFTPzutu1nM3OvSrJxAA;\x20__Secure-3PSIDTS=sidts-CjIBSAxbGSjJ0ofY2vRCVz8xqU2RHXjyE-VqNeez6nkw8jvOZ5xtUFTPzutu1nM3OvSrJxAA;\x20__Secure-3PSID=aQizKdEFw5-p5KcnHIHgPWALDWZSyYJmFsyl7wWOi7fu_X8g6hK1AfHBNbTFevBaBQPuvA.;\x20LOGIN_INFO=AFmmF2swRQIhAIuauIKMJskoIcXPzomtvy4859ECXJjXKwIL4Fwqi8M-AiBi3HsuFHlV7lQ1cmm3p0MA9MZSsdNDL3RLqyb_aLrKMw:QUQ3MjNmemZrTWlwS2dIcm81YnNzTFRwVVFlLUF6bGh1TzV0ZWpMSFRRYm9XdHdMYnFVUV9kcWNVTVF2QXpzSWROYzE4YkM1RzU2ZjdjUk1BWTFRTm5FS1lFVHpkVXplUzF1ZGhmMTJvZW9Ca2x1Y24zTDl3bG1tSEFILWlWX2ZNRDBCVm9RSm9EZnJPMkFyMUJqaE9uR2xoM3hyVXJWbWtn;\x20CONSISTENCY=AKreu9spRAFkKxEWfUje5J-netwXc64KTkz8ZxGkb2fS0jSkvw7HS3ZlNxyUNMoWb1_0Kzj4kSS6Wb0tulfITpFGHwYqDQyEvRz4lyfhoJV4U9Pa1V7XYEzG5c8QhUyn-KE21gCuwrCyYoLt295cpHM;\x20SIDCC=APoG2W_12yoyWkHPHg7DjiiKJB01vkwulDW9v2gIuS0mUCIpDl7SGkQ8ywiYcwBXal5jnLxZ01s;\x20__Secure-1PSIDCC=APoG2W9XogiNUjt9CjAlbVSb0YTrBJlo_rvOXGqodWmCwyDW_3SPyDLi9b1Co99YVhvhXvlWWPY;\x20__Secure-3PSIDCC=APoG2W8Koq32WwziWG7m1gPuRhj8dxVpdIFrjbUM6rA2vH7wUY-cE16wy6XKz8QfLOuyKshzVjJa'}},'filter':'audioandvideo','quality':'highestvideo'}),_0x35b3c8='./tmp/'+randomBytes(0x3)['toString']('hex')+'.mp4',_0x4e8a29;_0xd1a1e6['once']('response',()=>{_0x4e8a29=Date['now']();}),_0xd1a1e6['on']('progress',(_0x392462,_0x4b7a28,_0x45f0c0)=>{const _0x387242=_0x4b7a28/_0x45f0c0,_0x1d50fd=(Date['now']()-_0x4e8a29)/0x3e8/0x3c,_0x368316=_0x1d50fd/_0x387242-_0x1d50fd;_0x29e73f['cursorTo'](process['stdout'],0x0),process['stdout']['write']((_0x387242*0x64)['toFixed'](0x2)+'%\x20downloaded\x20'),process['stdout']['write']('('+(_0x4b7a28/0x400/0x400)['toFixed'](0x2)+'MB\x20of\x20'+(_0x45f0c0/0x400/0x400)['toFixed'](0x2)+'MB)\x0a'),process['stdout']['write']('running\x20for:\x20'+_0x1d50fd['toFixed'](0x2)+'minutes'),process['stdout']['write'](',\x20estimated\x20time\x20left:\x20'+_0x368316['toFixed'](0x2)+'minutes\x20'),_0x29e73f['moveCursor'](process['stdout'],0x0,-0x1);}),_0xd1a1e6['on']('end',()=>process['stdout']['write']('\x0a\x0a')),_0xd1a1e6['on']('error',_0xc61c5=>console['log'](_0xc61c5));const _0x301f5e=await new Promise(_0x3adca1=>{_0x220261(_0xd1a1e6)['toFormat']('mp4')['save'](_0x35b3c8)['on']('end',()=>{_0x3adca1(_0x35b3c8);});});return{'meta':{'channelUrl':_0x586e1a['author']['channel_url'],'views':_0x586e1a['viewCount'],'category':_0x586e1a['category'],'id':_0x586e1a['videoId'],'url':_0x586e1a['video_url'],'publicDate':_0x586e1a['publishDate'],'uploadDate':_0x586e1a['uploadDate'],'keywords':_0x586e1a['keywords'],'title':_0x586e1a['title'],'channel':_0x586e1a['author']['name'],'seconds':_0x586e1a['lengthSeconds'],'image':_0x586e1a['thumbnails']['slice'](-0x1)[0x0]['url']},'path':_0x301f5e,'size':_0xd2fc3d['statSync'](_0x35b3c8)['size']};}catch(_0x1997d6){throw _0x1997d6;}};}export default YT;