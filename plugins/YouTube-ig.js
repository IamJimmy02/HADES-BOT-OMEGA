import _0x19d7bb from'node-fetch';import _0x4a6bd6 from'axios';import _0x3ea916 from'instagram-url-direct';import{instagram}from'@xct007/frieren-scraper';import{instagramdl}from'@bochilteam/scraper';import _0x1630b9 from'@sasmeee/igdl';import{fileTypeFromBuffer}from'file-type';const handler=async(_0x337032,{conn:_0x5e5120,args:_0x3fa8e5,command:_0x6fbfba,usedPrefix:_0x539823})=>{let _0x1e0209={'key':{'participants':'0@s.whatsapp.net','remoteJid':'status@broadcast','fromMe':![],'id':'Halo'},'message':{'contactMessage':{'vcard':'BEGIN:VCARD\x0aVERSION:3.0\x0aN:Sy;Bot;;;\x0aFN:y\x0aitem1.TEL;waid='+_0x337032['sender']['split']('@')[0x0]+':'+_0x337032['sender']['split']('@')[0x0]+'\x0aitem1.X-ABLabel:Ponsel\x0aEND:VCARD'}},'participant':'0@s.whatsapp.net'};if(!_0x3fa8e5[0x0])return _0x5e5120['reply'](_0x337032['chat'],'*[❗]\x20𝙸𝙽𝙶𝚁𝙴𝚂𝙴\x20𝚄𝙽\x20𝙴𝙽𝙻𝙰𝙲𝙴\x20𝙳𝙴\x20𝙸𝙽𝚂𝚃𝙰𝙶𝚁𝙰𝙼,\x20𝙴𝙹𝙴𝙼𝙿𝙻𝙾:\x20'+(_0x539823+_0x6fbfba)+'*\x20https://www.instagram.com/reel/Cc0NuYBg8CR/?utm_source=ig_web_copy_link',_0x1e0209,_0x337032);_0x5e5120['reply'](_0x337032['chat'],'*[❗]\x20ᴅᴇsᴄᴀʀɢᴀɴᴅᴏ\x20sᴜ\x20ᴠɪᴅᴇᴏ,\x20ᴀɢᴜᴀʀᴅᴇ\x20ᴜɴ\x20ᴍᴏᴍᴇɴᴛᴏ\x20ᴘᴏʀ\x20ғᴀᴠᴏʀ,\x20ᴇsᴛᴇ\x20ᴘʀᴏᴄᴇsᴏ\x20ᴘᴜᴇᴅᴇ\x20ᴅᴜʀᴀʀ\x20ᴇɴᴛʀᴇ\x202\x20ʏ\x2010\x20ᴍɪɴᴜᴛᴏs\x20ᴅᴇᴘᴇɴᴅɪᴇɴᴅᴏ\x20ᴅᴇ\x20ʟᴀ\x20ᴅᴜʀᴀᴄɪᴏɴ\x20ᴅᴇʟ\x20ᴠɪᴅᴇᴏ...*',_0x1e0209,_0x337032);try{const _0x153294=await _0x1630b9(_0x3fa8e5[0x0]);for(let _0x29db5d=0x0;_0x29db5d<_0x153294['length'];_0x29db5d++){const _0x10fd88=await getBuffer(_0x153294[_0x29db5d]['download_link']);if(_0x10fd88['detectedType']['mime']['startsWith']('image/'))await _0x5e5120['sendMessage'](_0x337032['chat'],{'image':{'url':_0x153294[_0x29db5d]['download_link']}},{'quoted':_0x337032});else _0x10fd88['detectedType']['mime']['startsWith']('video/')&&await _0x5e5120['sendMessage'](_0x337032['chat'],{'video':{'url':_0x153294[_0x29db5d]['download_link']}},{'quoted':_0x337032});}}catch{try{const _0x2cfc2d=await instagram['download'](_0x3fa8e5[0x0]);for(const _0x37529b of _0x2cfc2d){const _0x4d30b3=await(await _0x19d7bb('https://tinyurl.com/api-create.php?url='+_0x3fa8e5[0x0]))['text'](),_0xfa7b09=('🔗\x20*Url:*\x20'+_0x4d30b3)['trim']();_0x5e5120['sendFile'](_0x337032['chat'],_0x37529b['url'],'error.mp4',_0xfa7b09,_0x337032),await new Promise(_0x1dc78a=>setTimeout(_0x1dc78a,0x2710));}}catch{try{const _0x225a55=await _0x3ea916(_0x3fa8e5[0x0])['url_list'][0x0],_0x34e3ee=await(await _0x19d7bb('https://tinyurl.com/api-create.php?url='+_0x3fa8e5[0x0]))['text'](),_0x2d6742=('🔗\x20*Url:*\x20'+_0x34e3ee)['trim']();await _0x5e5120['sendFile'](_0x337032['chat'],_0x225a55,'error.mp4',_0x2d6742,_0x337032);}catch{try{const _0x5c9e65=await instagramdl(_0x3fa8e5[0x0]),_0x5034f5=await(await _0x19d7bb('https://tinyurl.com/api-create.php?url='+_0x3fa8e5[0x0]))['text'](),_0x317243=('🔗\x20*Url:*\x20'+_0x5034f5)['trim']();for(const {url:_0x21c0d0}of _0x5c9e65)await _0x5e5120['sendFile'](_0x337032['chat'],_0x21c0d0,'error.mp4',_0x317243,_0x337032);}catch{try{const _0x3b88dd=await _0x19d7bb('https://api.lolhuman.xyz/api/instagram?apikey='+lolkeysapi+'&url='+_0x3fa8e5[0x0]),_0x20365f=await _0x3b88dd['json'](),_0x2809c2=_0x20365f['result'],_0xba9ee7=await(await _0x19d7bb('https://tinyurl.com/api-create.php?url='+_0x3fa8e5[0x0]))['text'](),_0x2e699d=('🔗\x20*Url:*\x20'+_0xba9ee7)['trim']();await _0x5e5120['sendFile'](_0x337032['chat'],_0x2809c2,'error.mp4',_0x2e699d,_0x337032);}catch{throw'*❌ʟᴏ\x20sᴇɴᴛɪᴍᴏs\x20sᴇ\x20ʜᴀ\x20ɢᴇɴᴇʀᴀᴅᴏ\x20ᴜɴ\x20ᴇʀʀᴏʀ\x20ᴠᴜᴇʟᴠᴇ\x20ɪɴᴛᴇɴᴛᴀʀ❌*';}}}}}};handler['command']=/^(instagramdl|instagram|igdl|ig|instagramdl2|instagram2|igdl2|ig2|instagramdl3|instagram3|igdl3|ig3)$/i,handler['group']=!![],handler['register']=!![];export default handler;const getBuffer=async(_0x2a6a6d,_0x3ad590)=>{_0x3ad590=_0x3ad590||{};const _0x2a7ad6=await _0x4a6bd6({'method':'get','url':_0x2a6a6d,'headers':{'DNT':0x1,'Upgrade-Insecure-Request':0x1},..._0x3ad590,'responseType':'arraybuffer'}),_0x440b72=Buffer['from'](_0x2a7ad6['data'],'binary'),_0x409686=await fileTypeFromBuffer(_0x440b72);if(!_0x409686||_0x409686['mime']!=='image/jpeg'&&_0x409686['mime']!=='image/png'&&_0x409686['mime']!=='video/mp4')return null;return{'buffer':_0x440b72,'detectedType':_0x409686};};