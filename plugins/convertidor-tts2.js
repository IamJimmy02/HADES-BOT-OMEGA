import _0x129bda from'axios';import _0x2782f2 from'node-fetch';const handler=async(_0x2bb3f1,{conn:_0x399184,usedPrefix:_0x490fb2,command:_0xa5f790,text:_0x112862,args:_0x51475b})=>{const [_0x1d1434,..._0x278c22]=_0x112862['split']('\x20'),_0x1f116e=_0x278c22['join']('');if(!_0x1d1434){let _0x3fac36=await getVoiceList(),_0x2aae09='[❗]\x20No\x20haz\x20ingresado\x20un\x20efecto,\x20por\x20favor\x20ingresa\x20un\x20efecto\x20de\x20voz.\x0a\x0a—◉\x20Elige\x20uno\x20de\x20los\x20siguientes\x20efectos:\x0a';for(let _0xab8ee=0x0,_0x2b82b5=0x0;_0x2b82b5<0x64&&_0xab8ee<_0x3fac36['resultado']['length'];_0xab8ee++){const _0x311a04=_0x3fac36['resultado'][_0xab8ee];_0x311a04['ID']['length']<=0x14&&(_0x2aae09+='◉\x20'+(_0x490fb2+_0xa5f790)+'\x20'+_0x311a04['ID']+'\x20tu_texto_aquí\x0a',_0x2b82b5++);}return _0x399184['sendMessage'](_0x2bb3f1['chat'],{'text':_0x2aae09['trim']()},{'quoted':_0x2bb3f1});}let _0x11386c=![],_0x26bfc6=await getVoiceList();for(const _0x598072 of _0x26bfc6['resultado']){if(_0x598072['ID']===_0x1d1434){_0x11386c=!![];break;}}if(!_0x11386c)return _0x399184['sendMessage'](_0x2bb3f1['chat'],{'text':'[❗]\x20El\x20efecto\x20proporcionado\x20no\x20existe\x20en\x20la\x20lista,\x20utiliza\x20'+(_0x490fb2+_0xa5f790)+'\x20para\x20conocer\x20la\x20lista\x20de\x20efectos.'},{'quoted':_0x2bb3f1});if(!_0x1f116e)return _0x399184['sendMessage'](_0x2bb3f1['chat'],{'text':'[❗]\x20Ingresa\x20el\x20texto\x20que\x20quieras\x20convertir\x20a\x20audio.\x0a\x0a—◉\x20Ejemplo:\x0a◉\x20'+(_0x490fb2+_0xa5f790)+'\x20'+_0x1d1434+'\x20Hola,\x20este\x20es\x20un\x20ejemplo\x20de\x20uso\x20del\x20comando.'},{'quoted':_0x2bb3f1});let _0x38d6cf=await makeTTSRequest(_0x1f116e,_0x1d1434);_0x399184['sendMessage'](_0x2bb3f1['chat'],{'audio':{'url':_0x38d6cf['resultado']},'fileName':'error.mp3','mimetype':'audio/mpeg','ptt':!![]},{'quoted':_0x2bb3f1});};handler['command']=/^(g?tts2)$/i,handler['register']=!![],handler['group']=!![];export default handler;const secretKey='fe2ee40099494579af0ecf871b5af266',userId='SrgwcKcLzSY63IdsAxd1PzscFjL2';async function getVoiceList(){const _0x1b8cfc='https://play.ht/api/v2/voices',_0x7883b3={'method':'GET','headers':{'accept':'application/json','AUTHORIZATION':'Bearer\x20'+secretKey,'X-USER-ID':userId}};try{const _0x448866=await _0x2782f2(_0x1b8cfc,_0x7883b3),_0x24ecda=await _0x448866['json'](),_0x10329d=_0x24ecda['reduce']((_0x338ce7,_0x1264b2)=>{return!_0x338ce7['some'](_0x53a649=>_0x53a649['id']===_0x1264b2['id'])&&_0x338ce7['push'](_0x1264b2),_0x338ce7;},[]),_0x280c58=_0x10329d['map'](_0x3b8dc7=>({'ID':_0x3b8dc7['id'],'name':_0x3b8dc7['name'],'lenguaje':_0x3b8dc7['language']}));return{'resultado':_0x280c58?_0x280c58:'[❗]\x20Error,\x20no\x20se\x20obtuvo\x20respuesta\x20de\x20la\x20API.'};}catch(_0x22b369){console['error']('Error:',_0x22b369);return{'resultado':'[❗]\x20Error,\x20no\x20se\x20obtuvo\x20respuesta\x20de\x20la\x20API.'};throw _0x22b369;}}async function makeTTSRequest(_0x4fe50d,_0x44d239){const _0x19ff41={'text':_0x4fe50d,'voice':_0x44d239},_0x50ec8c={'Authorization':'Bearer\x20'+secretKey,'X-User-Id':userId,'accept':'text/event-stream','content-type':'application/json'};try{const _0xb69d2d=await _0x129bda['post']('https://play.ht/api/v2/tts',_0x19ff41,{'headers':_0x50ec8c}),_0x40cf04=_0xb69d2d['data']['split']('\x0d\x0a\x0d\x0a'),_0x50a8de=_0x40cf04['find'](_0x58e842=>_0x58e842['includes']('\x22stage\x22:\x22complete\x22')),_0x14c2fd=_0x50a8de['match'](/"url":"([^"]+)"/),_0x144d72=_0x14c2fd?_0x14c2fd[0x1]:null;return{'resultado':_0x144d72?_0x144d72:'[❗]\x20URL\x20no\x20encontrada\x20en\x20la\x20respuesta.'};}catch(_0x2064c4){return console['error']('Error:',_0x2064c4),{'resultado':'[❗]\x20Error,\x20no\x20se\x20obtuvo\x20respuesta\x20de\x20la\x20API.'};}}